%% vim: set ts=2 sw=2 ft=erlang et:

{overrides,
 [{override, ex_uri,
   [{plugins, [rebar3_abnfc_plugin]},
    {provider_hooks,
     [{pre,
       [{compile, {abnfc, compile}},
        {clean, {abnfc, clean}}]}]}
   ]}
 ]}.

{erl_opts,
 [debug_info,
  {parse_transform, lager_transform},
  {platform_define, "^[0-9]+", namespaced_types}]}.

{deps,
  [{redis, {git, "git@git.herokai.com:erlang_redis_pool.git", {branch, "master"}}}
  ,{mochiweb, {git, "git@git.herokai.com:mochiweb.git", {tag, "R16B01"}}}
  ,{pagerduty, {git, "git@git.herokai.com:erlang_pagerduty.git", {branch, "master"}}}
  ,{redgrid, {git, "git@git.herokai.com:redgrid.git", {tag, "v1.0.3"}}}
  ,{redo, {git, "git@git.herokai.com:redo.git", {ref, "7c7eaef4cd65271e2fc4ea88587e848407cf0762"}}}
  ,{nsync, {git, "git@git.herokai.com:nsync.git", {branch, "OTP-17.4"}}}
  ,{cowboy, {git, "git@git.herokai.com:ninenines_cowboy.git", {tag, "1.0.1"}}}
  ,{quoted, {git, "git@git.herokai.com:quoted.git", {branch, "master"}}}
  ,{gproc, {git, "git@git.herokai.com:gproc.git", {branch, "master"}}}
  ,{ex_uri, {git, "git@git.herokai.com:ex_uri.git", {branch, "master"}}}
  ,{heroku_crashdumps, {git, "git@git.herokai.com:heroku_crashdumps.git", {tag, "0.1.0"}}}
  ,{lager, {git, "git@git.herokai.com:lager.git", {tag, "3.0.1"}}}
  ,{batchio, {git, "git@git.herokai.com:batchio.git", {tag, "1.0.0"}}}
  ,{recon, {git, "git@git.herokai.com:recon.git", {branch, "master"}}}
  ,{folsom, {git, "git@git.herokai.com:folsom.git", {tag, "0.8.2"}}}
  ,{folsom_cowboy, {git, "git@git.herokai.com:folsom_cowboy.git", {ref, "51842c8e8a89707bdf072287703c721939d55827"}}}
 ]}.

{ct_compile_opts,
 [{i, "./include/"}]}.

{ct_opts,
 [{alias, logplex, "./test/"},
  {logdir, "./logs/"},
  {suites, logplex, all}]}.

{profiles,
 [{test,
   [{deps, [{meck, {git, "https://github.com/eproxus/meck.git", {tag, "0.8.2"}}}]}]
  },
  {public,
   [{deps,
      [{redis, {git, "git://github.com/JacobVorreuter/redis_pool.git", {branch, "master"}}}
      ,{mochiweb, {git, "git://github.com/heroku/mochiweb.git", {tag, "R16B01"}}}
      ,{pagerduty, {git, "git://github.com/JacobVorreuter/pagerduty.git", {branch, "master"}}}
      ,{redgrid, {git, "git://github.com/JacobVorreuter/redgrid.git", {tag, "v1.0.3"}}}
      ,{redo, {git, "git://github.com/JacobVorreuter/redo.git", {ref, "7c7eaef4cd65271e2fc4ea88587e848407cf0762"}}}
      ,{nsync, {git, "git://github.com/heroku/nsync.git", {branch, "OTP-17.4"}}}
      ,{cowboy, {git, "git://github.com/ninenines/cowboy.git", {tag, "1.0.1"}}}
      ,{quoted, {git, "git://github.com/pivotree/quoted.erl.git", {branch, "master"}}}
      ,{gproc, {git, "git://github.com/uwiger/gproc.git", {branch, "master"}}}
      ,{ex_uri, {git, "git://github.com/heroku/ex_uri.git", {branch, "master"}}}
      ,{heroku_crashdumps, {git, "git://github.com/heroku/heroku_crashdumps.git", {tag, "0.1.0"}}}
      ,{lager, {git, "git://github.com/basho/lager.git", {tag, "3.0.1"}}}
      ,{batchio, {git, "git://github.com/ferd/batchio.git", {tag, "1.0.0"}}}
      ,{recon, {git, "git://github.com/ferd/recon.git", {branch, "master"}}}
      ,{folsom, {git, "https://github.com/boundary/folsom.git", {tag, "0.8.2"}}}
      ,{jsx, {git, "https://github.com/talentdeficit/jsx.git", {branch, "master"}}}
      ,{folsom_cowboy, {git, "https://github.com/evanmcc/folsom_cowboy.git", {ref, "26f85d4b5658a264f328b15cce506ef7f2b484a1"}}}
    ]}]
  }
 ]
}.
